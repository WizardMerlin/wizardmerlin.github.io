<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>deepin | Merlin&#39;s Blog</title>
  <meta name="author" content="MerlinYu">
  
  <meta name="description" content="迁移新的开发环境">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="deepin"/>
  <meta property="og:site_name" content="Merlin&#39;s Blog"/>

  
    <meta property="og:image" content="undefined"/>
  

  
  
    <link href="/favicon.png" rel="ico">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  



</head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Merlin&#39;s Blog</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> deepin</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  
		 <div class="alert alert-success description">
			<i class="fa fa-info-circle"></i> 迁移新的开发环境
		 </div> <!-- alert -->
	  		

	  <p>以前的老系统, 由于系统太老, 有时候安装软件真的非常不适合. 我个人开发一直使用linux(Ubuntu64), 主要用terminal(emacs -nw). 所以要换一个稳定, 新一点儿的系统; 考虑了ubuntu麒麟, 16, 17, 不得不说, 一点儿也不好用, 支持的非常差. 原版的ubuntu也是, 系统有时动不动就内部错误(Ubuntu可能会突然告诉你已经不提供软件更新了, 请升级到17.04; 然后你升级的时候又引来内部错误).<br>正好 <code>武汉深之度</code> 开发的 <code>deepin</code> 近来大家伙好评不断, 所以, 我就来试试. </p>
<p>趁此机会, 把原来的所有 <code>开发环境</code> 切换到 deepin (老的ubuntu仅用于发布博客).<br>(如果有机会, 以后也想为它贡献代码)</p>
<a id="more"></a>
<h1 id="引子"><a href="#引子" class="headerlink" title="引子"></a>引子</h1><p>为什么换deepin? 原系统 和 deepin对比如下, 不多解释了.</p>
<p><img src="http://omotkhw3y.bkt.clouddn.com/deepin1.jpg" alt=""></p>
<p>(好吧还是说一下,它的这个<code>terminal</code>太棒了;后期发现和emacs有些键可能冲突, 改以下就好了)</p>
<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><h2 id="安装deepin"><a href="#安装deepin" class="headerlink" title="安装deepin"></a>安装deepin</h2><p>这里我装的是虚拟机.</p>
<p>电脑的原配操作系统win10专业版, 所以一般不改变, 主要工作环境全部放在虚拟机里面, 一来编程对机器要求不是太高, 而来虚拟机文件也方便在电脑间移植.</p>
<p>虚拟机里安装deepin很简单: 原来怎么安装ubuntu_amd64, 这里就怎么装deepin, 并且操作习惯也不用改, 和debain系列一致.</p>
<p>安装完, 先升级一下系统 <code>sudo apt-get dist-upgrade</code> 或者可能也需要 <code>sudo apt-get update</code> 和 <code>sudo apt-get upgrade</code>.</p>
<p>下面开始安装主要工作软件以及环境配置.</p>
<hr>
<h2 id="emacs"><a href="#emacs" class="headerlink" title="emacs"></a>emacs</h2><p>最先安装的就是emacs, 不然后面很捉急.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ sudo apt-get install emacs25</div><div class="line"></div><div class="line"><span class="comment">#安装完毕之后</span></div><div class="line">$ emacs --version</div><div class="line">GNU Emacs 25.1.1</div><div class="line">Copyright (C) 2016 Free Software Foundation, Inc.</div><div class="line">GNU Emacs comes with ABSOLUTELY NO WARRANTY.</div><div class="line">You may redistribute copies of GNU Emacs</div><div class="line">under the terms of the GNU General Public License.</div><div class="line">For more information about these matters, see the file named COPYING.</div></pre></td></tr></table></figure>
<p>不过我使用的时候, 一般都是不带界面的emacs, 习惯了; 所以去加一个alias.</p>
<p>现在<code>.bashrc</code>结尾面添加一个语句(<code>$ nano .bashrc</code>)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">if [ -f ~/.merlin_bash ]; then</div><div class="line">    . ~/.merlin_bash</div><div class="line">fi</div></pre></td></tr></table></figure>
<p>保存之后建立一个<code>.merlin_bash</code>文件:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># here we confiure some alias and environment info </span></div><div class="line"><span class="comment"># 1. alias</span></div><div class="line"><span class="comment"># 2. environmen path</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="comment"># my alias</span></div><div class="line"><span class="built_in">alias</span> ll=<span class="string">'ls -l'</span></div><div class="line"><span class="built_in">alias</span> la=<span class="string">'ls -A'</span></div><div class="line"><span class="built_in">alias</span> l=<span class="string">'ls -CF'</span></div><div class="line"></div><div class="line"><span class="built_in">alias</span> em=<span class="string">'emacs -nw'</span></div></pre></td></tr></table></figure></p>
<p>(重新打开以下终端或者source .bashrc)<br>现在可以使用emacs了, 还不错哦.</p>
<p>关于emacs的配置, 请看我的另外一篇 <a href="">文章</a>.</p>
<p>如果你配置<code>emacs</code>, 基本呵呵, 不配置除非你是神(要求你水平非常高), 不然很难用的顺手.</p>
<blockquote>
<p>以后的所有配置,都在.merlin_bash文件中.</p>
</blockquote>
<h2 id="常用命令别名"><a href="#常用命令别名" class="headerlink" title="常用命令别名"></a>常用命令别名</h2><p>德国人有一个造车时, 有一个思想, 这个思想用中国谚语说就是 <code>工欲善其事必先利其器</code> .<br>有一些常用命令, 来弄个别名吧, 编辑<code>.merlin_bash</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"># TODO</div></pre></td></tr></table></figure>
<h2 id="wget"><a href="#wget" class="headerlink" title="wget"></a>wget</h2><p>想下载东西, wget和curl必不可少, 两者取其一即可, 我尝试用<code>wget</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ add wget</div></pre></td></tr></table></figure></p>
<h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><p>没有git几乎无法生存, 想要去拉个库, 晕,没有安装git.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">$ add git</div><div class="line">正在读取软件包列表... 完成</div><div class="line">正在分析软件包的依赖关系树       </div><div class="line">正在读取状态信息... 完成       </div><div class="line">下列软件包是自动安装的并且现在不需要了：</div><div class="line">  libfile-copy-recursive-perl update-inetd</div><div class="line">使用<span class="string">'sudo apt autoremove'</span>来卸载它(它们)。</div><div class="line">将会同时安装下列软件：</div><div class="line">  git-man liberror-perl</div><div class="line">建议安装：</div><div class="line">  git-daemon-run | git-daemon-sysvinit git-doc git-el git-email git-gui gitk gitweb git-arch git-cvs git-mediawiki git-svn</div><div class="line">下列【新】软件包将被安装：</div><div class="line">  git git-man liberror-perl</div><div class="line">升级了 0 个软件包，新安装了 3 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。</div><div class="line">需要下载 5,614 kB 的归档。</div><div class="line">解压缩后会消耗 31.0 MB 的额外空间。</div><div class="line">您希望继续执行吗？ [Y/n] Y</div><div class="line">获取:1 http://packages.deepin.com/deepin panda/main amd64 liberror-perl all 0.17024-1 [26.9 kB]</div><div class="line">获取:2 http://packages.deepin.com/deepin panda/main amd64 git-man all 1:2.11.0-4 [1,432 kB]</div><div class="line">获取:3 http://packages.deepin.com/deepin panda/main amd64 git amd64 1:2.11.0-4 [4,156 kB]                                       </div><div class="line">已下载 5,614 kB，耗时 15秒 (359 kB/s)                                                                                           </div><div class="line">正在选中未选择的软件包 liberror-perl。</div><div class="line">(正在读取数据库 ... 系统当前共安装有 152772 个文件和目录。)</div><div class="line">正准备解包 .../liberror-perl_0.17024-1_all.deb  ...</div><div class="line">正在解包 liberror-perl (0.17024-1) ...</div><div class="line">正在选中未选择的软件包 git-man。</div><div class="line">正准备解包 .../git-man_1%3a2.11.0-4_all.deb  ...</div><div class="line">正在解包 git-man (1:2.11.0-4) ...</div><div class="line">正在选中未选择的软件包 git。</div><div class="line">正准备解包 .../git_1%3a2.11.0-4_amd64.deb  ...</div><div class="line">正在解包 git (1:2.11.0-4) ...</div><div class="line">正在设置 git-man (1:2.11.0-4) ...</div><div class="line">正在设置 liberror-perl (0.17024-1) ...</div><div class="line">正在处理用于 man-db (2.7.6.1-2) 的触发器 ...</div><div class="line">正在设置 git (1:2.11.0-4) ...</div></pre></td></tr></table></figure>
<p>看一下版本, 还挺新的.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git --version</div><div class="line">git version 2.11.0</div></pre></td></tr></table></figure></p>
<p>配置一下自己的信息:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ git config --global user.name &quot;xxx&quot;</div><div class="line">$ git config --global user.email &quot;yyy&quot;</div></pre></td></tr></table></figure></p>
<h2 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h2><p>本机其实已经安装了ssh工具, 并且我也可以远程到我的remote服务器:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># 一般默认22端口</div><div class="line">$ ssh username@address</div></pre></td></tr></table></figure></p>
<p>但是本机是否允许别的机器远程呢? 还是配置一下, 允许远程登录<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ls /etc/ssh</div><div class="line">moduli	ssh_config</div></pre></td></tr></table></figure></p>
<p>自己建议一个文件<code>sshd_config</code>, 配置ssh-server，配置文件位于/etc/ssh/sshd_config, 默认端口为22, 为了安全, 一般自定义为其他端口.</p>
<p>修改配置文件sshd_config, 一般修改远程登录过来的端口, 允许的账户, 超时是否断开.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">1. 配置端口：　</div><div class="line">   Port 22 配置端口时你可以修改称自己想要的比方说23333,防止被端口扫描.</div><div class="line"></div><div class="line">2. 配置是否允许远程root账户登录</div><div class="line">   (但是你登录后可以su到root账户)</div><div class="line">   # Authentication:</div><div class="line">   LoginGraceTime 120</div><div class="line">   PermitRootLogin yes</div><div class="line">   StrictModes yes</div><div class="line"></div><div class="line">   一般可以禁止远程root账户登录.</div><div class="line"></div><div class="line">3. 避免超时自动断开</div><div class="line"></div><div class="line">   # keep alive within an hour if no operation happened of client</div><div class="line">   ClientAliveInterval 60</div><div class="line">   ClientAliveCountMax 60</div><div class="line"></div><div class="line">注意:</div><div class="line"></div><div class="line">每次一次配置都要重启sshd守护进程: service ssh restart</div><div class="line">(我这边儿重启sshd，提示unrecognized service)</div></pre></td></tr></table></figure></p>
<p>关于sshd的启动:</p>
<p>首先确保ssh服务已经安装, 检查服务是否已经启动<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ps -e | grep sshd</div></pre></td></tr></table></figure></p>
<p>启动、停止、重启服务<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ service sshd start     #开启ssh服务 </div><div class="line">$ service sshd stop      #停止ssh服务 </div><div class="line">$ service sshd restart   #重启ssh服务</div></pre></td></tr></table></figure></p>
<p>或者使用带有路径的脚本：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">/etc/init.d/sshd start </div><div class="line">/etc/init.d/sshd stop </div><div class="line">/etc/init.d/restart</div></pre></td></tr></table></figure></p>
<h2 id="产生ssh-key"><a href="#产生ssh-key" class="headerlink" title="产生ssh_key"></a>产生ssh_key</h2><p>步骤很简单, 但是我劝你还是采用HTTPS实时的输入账号密码验证上传和下载; 不要使用ssh key(任何一个登录到你电脑的人可以随便弄你的库, 多可怕).<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># 如果~/.ssh下已经有了秘钥文件则不必生成</div><div class="line">$ ssh-keygen -t rsa -C &quot;your_email@example.com&quot;</div><div class="line">(直接回车什么都不做)</div></pre></td></tr></table></figure></p>
<p>在~/.ssh/得到了两个文件：id_rsa和id_rsa.pub, 打开id_rsa.pub文件，里面的信息即为SSH key; 在github上把公钥贴到SSH Key认证的位置, 那么凡是走ssh协议的传入, 你都可以不用密码了.</p>
<p>当然如果你把自己的公钥<code>id_rsa.pub</code>拷贝到别人的<code>authorized_keys</code>文件内, 然后你ssh登录别人的电脑就不用认证密码了(但是你scp拷贝的这一回, 还是要输入登录到别人电脑的密码). 例如把我的公钥拷贝到xxx_ip地址的主机上, 登录那台电脑的用户名是yyy.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">scp -r ~/.ssh/id_rsa.pub xxx_ip:/home/yyy/.ssh/authorized_keys</div><div class="line"># 然后输入用户yyy的密码, 拷贝成功的话, 下次你登录xxx_ip这台电脑, 就不要密码了, 直接即可</div><div class="line">$ ssh xxx_ip</div></pre></td></tr></table></figure></p>
<h2 id="locate"><a href="#locate" class="headerlink" title="locate"></a>locate</h2><p>真的要是要什么没有什么.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">$ add locate</div><div class="line">正在读取软件包列表... 完成</div><div class="line">正在分析软件包的依赖关系树       </div><div class="line">正在读取状态信息... 完成       </div><div class="line">下列软件包是自动安装的并且现在不需要了：</div><div class="line">  libfile-copy-recursive-perl update-inetd</div><div class="line">使用&apos;sudo apt autoremove&apos;来卸载它(它们)。</div><div class="line">下列【新】软件包将被安装：</div><div class="line">  locate</div><div class="line">升级了 0 个软件包，新安装了 1 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。</div><div class="line">需要下载 212 kB 的归档。</div><div class="line">解压缩后会消耗 322 kB 的额外空间。</div><div class="line">获取:1 http://packages.deepin.com/deepin panda/main amd64 locate amd64 4.6.0+git+20161106-2 [212 kB]</div><div class="line">已下载 212 kB，耗时 0秒 (278 kB/s)</div><div class="line">正在选中未选择的软件包 locate。</div><div class="line">(正在读取数据库 ... 系统当前共安装有 153643 个文件和目录。)</div><div class="line">正准备解包 .../locate_4.6.0+git+20161106-2_amd64.deb  ...</div><div class="line">正在解包 locate (4.6.0+git+20161106-2) ...</div><div class="line">正在设置 locate (4.6.0+git+20161106-2) ...</div><div class="line">正在处理用于 man-db (2.7.6.1-2) 的触发器 ...</div><div class="line"></div><div class="line">$ sudo updatedb</div></pre></td></tr></table></figure></p>
<h2 id="tree"><a href="#tree" class="headerlink" title="tree"></a>tree</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">$ add tree</div><div class="line">正在读取软件包列表... 完成</div><div class="line">正在分析软件包的依赖关系树       </div><div class="line">正在读取状态信息... 完成       </div><div class="line">下列软件包是自动安装的并且现在不需要了：</div><div class="line">  libfile-copy-recursive-perl update-inetd</div><div class="line">使用&apos;sudo apt autoremove&apos;来卸载它(它们)。</div><div class="line">下列【新】软件包将被安装：</div><div class="line">  tree</div><div class="line">升级了 0 个软件包，新安装了 1 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。</div><div class="line">需要下载 46.1 kB 的归档。</div><div class="line">解压缩后会消耗 106 kB 的额外空间。</div><div class="line">获取:1 http://packages.deepin.com/deepin panda/main amd64 tree amd64 1.7.0-5 [46.1 kB]</div><div class="line">已下载 46.1 kB，耗时 0秒 (150 kB/s)</div><div class="line">正在选中未选择的软件包 tree。</div><div class="line">(正在读取数据库 ... 系统当前共安装有 153657 个文件和目录。)</div><div class="line">正准备解包 .../tree_1.7.0-5_amd64.deb  ...</div><div class="line">正在解包 tree (1.7.0-5) ...</div><div class="line">正在设置 tree (1.7.0-5) ...</div><div class="line">正在处理用于 man-db (2.7.6.1-2) 的触发器 ...</div></pre></td></tr></table></figure>
<h2 id="gcc"><a href="#gcc" class="headerlink" title="gcc"></a>gcc</h2><p>gcc的版本很给力, 但是有时候为了某些方便, 我还需要装一个低版本的.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$ gcc --version</div><div class="line">gcc (Debian 6.3.0-11) 6.3.0 20170321</div><div class="line">Copyright (C) 2016 Free Software Foundation, Inc.</div><div class="line">This is free software; see the <span class="built_in">source</span> <span class="keyword">for</span> copying conditions.  There is NO</div><div class="line">warranty; not even <span class="keyword">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</div><div class="line"></div><div class="line">$ locate gcc | grep -E <span class="string">"/usr/bin/gcc-[0-9]"</span></div><div class="line">/usr/bin/gcc-6</div></pre></td></tr></table></figure></p>
<p>安装4.8, 4.9, 5.0版本的gcc<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">$ add gcc-4.8 gcc-4.9 gcc-5</div><div class="line">正在读取软件包列表... 完成</div><div class="line">正在分析软件包的依赖关系树       </div><div class="line">正在读取状态信息... 完成       </div><div class="line">下列软件包是自动安装的并且现在不需要了：</div><div class="line">  libfile-copy-recursive-perl update-inetd</div><div class="line">使用&apos;sudo apt autoremove&apos;来卸载它(它们)。</div><div class="line">将会同时安装下列软件：</div><div class="line">  cpp-4.8 cpp-4.9 cpp-5 libasan0 libasan1 libasan2 libcloog-isl4 libgcc-4.8-dev libgcc-4.9-dev libgcc-5-dev libmpx0</div><div class="line">建议安装：</div><div class="line">  gcc-4.8-locales gcc-4.9-locales gcc-5-locales gcc-4.8-multilib gcc-4.8-doc libgcc1-dbg libgomp1-dbg libitm1-dbg</div><div class="line">  libatomic1-dbg libasan0-dbg libtsan0-dbg libquadmath0-dbg gcc-4.9-multilib gcc-4.9-doc libasan1-dbg liblsan0-dbg</div><div class="line">  libubsan0-dbg libcilkrts5-dbg gcc-5-multilib gcc-5-doc libasan2-dbg libmpx0-dbg</div><div class="line">下列【新】软件包将被安装：</div><div class="line">  cpp-4.8 cpp-4.9 cpp-5 gcc-4.8 gcc-4.9 gcc-5 libasan0 libasan1 libasan2 libcloog-isl4 libgcc-4.8-dev libgcc-4.9-dev</div><div class="line">  libgcc-5-dev libmpx0</div><div class="line">升级了 0 个软件包，新安装了 14 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。</div><div class="line">需要下载 42.6 MB 的归档。</div><div class="line">解压缩后会消耗 141 MB 的额外空间。</div><div class="line">您希望继续执行吗？ [Y/n] Y</div></pre></td></tr></table></figure></p>
<p>安装完成之后, <code>sudo updatedb</code>, 然后查看一下相应的版本<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">$ locate gcc | grep -E &quot;/usr/bin/gcc-[0-9]&quot;</div><div class="line">/usr/bin/gcc-4.8</div><div class="line">/usr/bin/gcc-4.9</div><div class="line">/usr/bin/gcc-5</div><div class="line">/usr/bin/gcc-6</div><div class="line"></div><div class="line">$ gcc --version</div><div class="line">gcc (Debian 6.3.0-11) 6.3.0 20170321</div><div class="line">Copyright (C) 2016 Free Software Foundation, Inc.</div><div class="line">This is free software; see the source for copying conditions.  There is NO</div><div class="line">warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</div></pre></td></tr></table></figure></p>
<p>然后利用 <code>update-alternatives</code> 建立文件关联(当然你也可以自己建立软链接):<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"># 首先要让系统知道我们安装了多个版本的gcc</div><div class="line"># 命令最后的 20和50是优先级，如果使用auto选择模式，系统将默认使用优先级高的</div><div class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 20</div><div class="line">update-alternatives: 使用 /usr/bin/gcc-4.8 来在自动模式中提供 /usr/bin/gcc (gcc)</div><div class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.9 30</div><div class="line">update-alternatives: 使用 /usr/bin/gcc-4.9 来在自动模式中提供 /usr/bin/gcc (gcc)</div><div class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 40</div><div class="line">update-alternatives: 使用 /usr/bin/gcc-5 来在自动模式中提供 /usr/bin/gcc (gcc)</div><div class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-6 50</div><div class="line">update-alternatives: 使用 /usr/bin/gcc-6 来在自动模式中提供 /usr/bin/gcc (gcc)</div></pre></td></tr></table></figure></p>
<p>再查看一下当前系统中安装的gcc有哪些:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ sudo update-alternatives --query gcc</div><div class="line">Name: gcc</div><div class="line">Link: /usr/bin/gcc</div><div class="line">Status: auto</div><div class="line">Best: /usr/bin/gcc-6</div><div class="line">Value: /usr/bin/gcc-6</div><div class="line"></div><div class="line">Alternative: /usr/bin/gcc-4.8</div><div class="line">Priority: 20</div><div class="line"></div><div class="line">Alternative: /usr/bin/gcc-4.9</div><div class="line">Priority: 30</div><div class="line"></div><div class="line">Alternative: /usr/bin/gcc-5</div><div class="line">Priority: 40</div><div class="line"></div><div class="line">Alternative: /usr/bin/gcc-6</div><div class="line">Priority: 50</div></pre></td></tr></table></figure></p>
<p>想切换默认的gcc可以使用修改优先值的方式:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 60</div></pre></td></tr></table></figure></p>
<p>或者交互的方式:<br><img src="http://omotkhw3y.bkt.clouddn.com/update-alternatives.jpg" alt="交互方式"></p>
<blockquote>
<p>update-alternatives 还可以用于配置多版本的Java或者Python等.</p>
</blockquote>
<p>当然你配置gcc的时候, 也可以顺带配置一下, gcc需要调用的binuitls, 比如 ar, nm, ranlib等(当然也可以配置对应版本的g++), 使用<code>--slave</code>选项.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-5 50 \</div><div class="line">--slave /usr/bin/g++ g++ /usr/bin/g++-5 \</div><div class="line">--slave /usr/bin/gcc-ar gcc-ar /usr/bin/gcc-ar-5 \</div><div class="line">--slave /usr/bin/gcc-nm gcc-nm /usr/bin/gcc-nm-5 \</div><div class="line">--slave /usr/bin/gcc-ranlib gcc-ranlib /usr/bin/gcc-ranlib-5</div></pre></td></tr></table></figure></p>
<h2 id="g"><a href="#g" class="headerlink" title="g++"></a>g++</h2><p>有些软件的安装, 需要其他的软件或者库; 如果那个工具&amp;库你经常用, 最好不要让它顺便给你装, 比如:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">$ add build-essential</div><div class="line">正在读取软件包列表... 完成</div><div class="line">正在分析软件包的依赖关系树       </div><div class="line">正在读取状态信息... 完成       </div><div class="line">下列软件包是自动安装的并且现在不需要了：</div><div class="line">  libfile-copy-recursive-perl update-inetd</div><div class="line">使用&apos;sudo apt autoremove&apos;来卸载它(它们)。</div><div class="line">将会同时安装下列软件：</div><div class="line">  g++ g++-6</div><div class="line">建议安装：</div><div class="line">  g++-multilib g++-6-multilib gcc-6-doc libstdc++6-6-dbg</div><div class="line">下列【新】软件包将被安装：</div><div class="line">  build-essential g++ g++-6</div><div class="line">升级了 0 个软件包，新安装了 3 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。</div><div class="line">需要下载 7,096 kB 的归档。</div><div class="line">解压缩后会消耗 24.5 MB 的额外空间。</div><div class="line">您希望继续执行吗？ [Y/n] n</div><div class="line">中止。</div></pre></td></tr></table></figure></p>
<p>我自己装<code>g++</code>, 因为我可能要在多个版本的c++编译器间切换.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">$ search <span class="string">"g\+\+-[0-9]"</span> | less</div><div class="line">$ add g++-4.9 g++-5 g++-6</div><div class="line">正在读取软件包列表... 完成</div><div class="line">正在分析软件包的依赖关系树       </div><div class="line">正在读取状态信息... 完成       </div><div class="line">下列软件包是自动安装的并且现在不需要了：</div><div class="line">  libfile-copy-recursive-perl update-inetd</div><div class="line">使用<span class="string">'sudo apt autoremove'</span>来卸载它(它们)。</div><div class="line">将会同时安装下列软件：</div><div class="line">  libstdc++-4.9-dev libstdc++-5-dev</div><div class="line">建议安装：</div><div class="line">  g++-4.9-multilib gcc-4.9-doc libstdc++6-4.9-dbg g++-5-multilib gcc-5-doc libstdc++6-5-dbg g++-6-multilib gcc-6-doc</div><div class="line">  libstdc++6-6-dbg libstdc++-4.9-doc libstdc++-5-doc</div><div class="line">下列【新】软件包将被安装：</div><div class="line">  g++-4.9 g++-5 g++-6 libstdc++-4.9-dev libstdc++-5-dev</div><div class="line">升级了 0 个软件包，新安装了 5 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。</div><div class="line">需要下载 35.8 MB 的归档。</div><div class="line">解压缩后会消耗 106 MB 的额外空间。</div><div class="line">您希望继续执行吗？ [Y/n] Y</div><div class="line"></div><div class="line">$ sudo updatedb</div></pre></td></tr></table></figure></p>
<p>然后用<code>update-alternatives</code>来配置一下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$ sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-4.9 30</div><div class="line">$ sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-5 40</div><div class="line">$ sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-6 50</div></pre></td></tr></table></figure></p>
<p>然后query检查一下:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">$ sudo update-alternatives --query g++</div><div class="line">Name: g++</div><div class="line">Link: /usr/bin/g++</div><div class="line">Status: auto</div><div class="line">Best: /usr/bin/g++-6</div><div class="line">Value: /usr/bin/g++-6</div><div class="line"></div><div class="line">Alternative: /usr/bin/g++-4.9</div><div class="line">Priority: 30</div><div class="line"></div><div class="line">Alternative: /usr/bin/g++-5</div><div class="line">Priority: 40</div><div class="line"></div><div class="line">Alternative: /usr/bin/g++-6</div><div class="line">Priority: 50</div><div class="line"></div><div class="line">$ g++ --version</div><div class="line">g++ (Debian 6.3.0-11) 6.3.0 20170321</div><div class="line">Copyright (C) 2016 Free Software Foundation, Inc.</div><div class="line">This is free software; see the <span class="built_in">source</span> <span class="keyword">for</span> copying conditions.  There is NO</div><div class="line">warranty; not even <span class="keyword">for</span> MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.</div></pre></td></tr></table></figure></p>
<h2 id="build-essential"><a href="#build-essential" class="headerlink" title="build-essential"></a>build-essential</h2><p>先查看一下依赖:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">$ depends build-essential</div><div class="line">build-essential</div><div class="line"> |依赖: libc6-dev</div><div class="line">  依赖: &lt;libc-dev&gt;</div><div class="line">    libc6-dev</div><div class="line">  依赖: gcc</div><div class="line">  依赖: g++</div><div class="line">  依赖: make</div><div class="line">    make-guile</div><div class="line">  依赖: dpkg-dev</div></pre></td></tr></table></figure></p>
<p>先看一下哪些没有<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 先更新一下本机数据</span></div><div class="line">$ update</div><div class="line">$ upgrade</div><div class="line"></div><div class="line">$ policy libc6-dev</div><div class="line">libc6-dev:</div><div class="line">  已安装：2.24-9</div><div class="line">  候选： 2.24-9</div><div class="line">  版本列表：</div><div class="line"> *** 2.24-9 500</div><div class="line">        500 http://packages.deepin.com/deepin panda/main amd64 Packages</div><div class="line">        100 /var/lib/dpkg/status</div><div class="line"></div><div class="line">$ policy make</div><div class="line">make:</div><div class="line">  已安装：4.1-9.1</div><div class="line">  候选： 4.1-9.1</div><div class="line">  版本列表：</div><div class="line"> *** 4.1-9.1 500</div><div class="line">        500 http://packages.deepin.com/deepin panda/main amd64 Packages</div><div class="line">        100 /var/lib/dpkg/status</div><div class="line"></div><div class="line">$ policy make-guile</div><div class="line">make-guile:</div><div class="line">  已安装：(无)</div><div class="line">  候选： 4.1-9.1</div><div class="line">  版本列表：</div><div class="line">     4.1-9.1 500</div><div class="line">        500 http://packages.deepin.com/deepin panda/main amd64 Packages</div><div class="line"></div><div class="line">$ policy dpkg-dev</div><div class="line">dpkg-dev:</div><div class="line">  已安装：1.18.23</div><div class="line">  候选： 1.18.23</div><div class="line">  版本列表：</div><div class="line"> *** 1.18.23 500</div><div class="line">        500 http://packages.deepin.com/deepin panda/main amd64 Packages</div><div class="line">        500 http://packages.deepin.com/deepin panda/main i386 Packages</div><div class="line">        100 /var/lib/dpkg/status</div></pre></td></tr></table></figure></p>
<p>那就安装一下<code>make-guile</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line">$ search &quot;make-guile*&quot;</div><div class="line">make-guile - utility for directing compilation with guile support</div><div class="line">$ add &quot;make-guile&quot;</div><div class="line">正在读取软件包列表... 完成</div><div class="line">正在分析软件包的依赖关系树       </div><div class="line">正在读取状态信息... 完成       </div><div class="line">将会同时安装下列软件：</div><div class="line">  guile-2.0-libs</div><div class="line">建议安装：</div><div class="line">  make-doc</div><div class="line">下列软件包将被【卸载】：</div><div class="line">  make</div><div class="line">下列【新】软件包将被安装：</div><div class="line">  guile-2.0-libs make-guile</div><div class="line">升级了 0 个软件包，新安装了 2 个软件包，要卸载 1 个软件包，有 0 个软件包未被升级。</div><div class="line">需要下载 2,536 kB 的归档。</div><div class="line">解压缩后会消耗 11.8 MB 的额外空间。</div><div class="line">您希望继续执行吗？ [Y/n] Y</div><div class="line"></div><div class="line">$ sudo updatedb</div><div class="line"></div><div class="line">$ make-guile --version</div><div class="line">bash: make-guile: 未找到命令</div><div class="line"></div><div class="line">$ locate make-guile</div><div class="line">/usr/share/doc/make-guile</div><div class="line">/usr/share/doc/make-guile/ABOUT-NLS.gz</div><div class="line">/usr/share/doc/make-guile/AUTHORS</div><div class="line">/usr/share/doc/make-guile/Explanations.gz</div><div class="line">/usr/share/doc/make-guile/NEWS.Debian.gz</div><div class="line">/usr/share/doc/make-guile/NEWS.gz</div><div class="line">/usr/share/doc/make-guile/README.Debian-Source</div><div class="line">/usr/share/doc/make-guile/README.customs.gz</div><div class="line">/usr/share/doc/make-guile/README.gz</div><div class="line">/usr/share/doc/make-guile/changelog.Debian.gz</div><div class="line">/usr/share/doc/make-guile/copyright</div><div class="line">/var/cache/apt/archives/make-guile_4.1-9.1_amd64.deb</div><div class="line">/var/lib/dpkg/info/make-guile.list</div><div class="line">/var/lib/dpkg/info/make-guile.md5sums</div></pre></td></tr></table></figure></p>
<p>再装<code>build-essential</code>:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">$ add build-essential</div><div class="line">正在读取软件包列表... 完成</div><div class="line">正在分析软件包的依赖关系树       </div><div class="line">正在读取状态信息... 完成       </div><div class="line">将会同时安装下列软件：</div><div class="line">  g++</div><div class="line">建议安装：</div><div class="line">  g++-multilib</div><div class="line">下列【新】软件包将被安装：</div><div class="line">  build-essential g++</div><div class="line">升级了 0 个软件包，新安装了 2 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。</div><div class="line">需要下载 8,890 B 的归档。</div><div class="line">解压缩后会消耗 35.8 kB 的额外空间。</div><div class="line">您希望继续执行吗？ [Y/n] Y</div><div class="line">获取:1 http://packages.deepin.com/deepin panda/main amd64 g++ amd64 4:6.3.0-2 [1,544 B]</div><div class="line">获取:2 http://packages.deepin.com/deepin panda/main amd64 build-essential amd64 12.3 [7,346 B]</div><div class="line">已下载 8,890 B，耗时 6秒 (1,466 B/s)                                                                                            </div><div class="line">正在选中未选择的软件包 g++。</div><div class="line">(正在读取数据库 ... 系统当前共安装有 156361 个文件和目录。)</div><div class="line">正准备解包 .../g++_4%3a6.3.0-2_amd64.deb  ...</div><div class="line">正在解包 g++ (4:6.3.0-2) ...</div><div class="line">正在选中未选择的软件包 build-essential。</div><div class="line">正准备解包 .../build-essential_12.3_amd64.deb  ...</div><div class="line">正在解包 build-essential (12.3) ...</div><div class="line">正在设置 g++ (4:6.3.0-2) ...</div><div class="line">update-alternatives: 使用 /usr/bin/g++ 来在自动模式中提供 /usr/bin/c++ (c++)</div><div class="line">正在设置 build-essential (12.3) ...</div></pre></td></tr></table></figure></p>
<p>这么看来<code>policy</code>可能后面的<code>dpkg</code>工具可能和<code>update-alternatives</code>有点儿误会, 手动调整一下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line">$ sudo update-alternatives --config g++</div><div class="line">有 3 个候选项可用于替换 g++ (提供 /usr/bin/g++)。</div><div class="line"></div><div class="line">  选择       路径            优先级  状态</div><div class="line">------------------------------------------------------------</div><div class="line">* 0            /usr/bin/g++-6     50        自动模式</div><div class="line">  1            /usr/bin/g++-4.9   30        手动模式</div><div class="line">  2            /usr/bin/g++-5     40        手动模式</div><div class="line">  3            /usr/bin/g++-6     50        手动模式</div><div class="line"></div><div class="line">要维持当前值[*]请按&lt;回车键&gt;，或者键入选择的编号：</div><div class="line">update-alternatives: 警告: 链接组 g++ 已损坏，故强制重新安装候选项 /usr/bin/g++-6</div><div class="line"></div><div class="line">$ ls /usr/bin/g++*</div><div class="line">/usr/bin/g++  /usr/bin/g++-4.9  /usr/bin/g++-5  /usr/bin/g++-6</div><div class="line">merlin@merlin-deepin:~$ ll /usr/bin/g++</div><div class="line"></div><div class="line"></div><div class="line">$ sudo update-alternatives --config g++</div><div class="line">有 3 个候选项可用于替换 g++ (提供 /usr/bin/g++)。</div><div class="line"></div><div class="line">  选择       路径            优先级  状态</div><div class="line">------------------------------------------------------------</div><div class="line">* 0            /usr/bin/g++-6     50        自动模式</div><div class="line">  1            /usr/bin/g++-4.9   30        手动模式</div><div class="line">  2            /usr/bin/g++-5     40        手动模式</div><div class="line">  3            /usr/bin/g++-6     50        手动模式</div><div class="line"></div><div class="line">要维持当前值[*]请按&lt;回车键&gt;，或者键入选择的编号：</div><div class="line"></div><div class="line">$ policy g++</div><div class="line">g++:</div><div class="line">  已安装：4:6.3.0-2</div><div class="line">  候选： 4:6.3.0-2</div><div class="line">  版本列表：</div><div class="line"> *** 4:6.3.0-2 500</div><div class="line">        500 http://packages.deepin.com/deepin panda/main amd64 Packages</div><div class="line">        100 /var/lib/dpkg/status</div></pre></td></tr></table></figure></p>
<p>好了.</p>
<h2 id="binutils"><a href="#binutils" class="headerlink" title="binutils"></a>binutils</h2><p>这里, 可能会装一些, 不太常用的工具,(常用的可能都已经装了) 为下面可能装的库打基础(下面会详细说明, 哪些库要用到这些工具).</p>
<h2 id="java"><a href="#java" class="headerlink" title="java"></a>java</h2><p>老实说, java, groovy, scala这类jvm语言已经写的很少了.(现在多用shell, python和c++).</p>
<p>但是有些工具比如thrif还是需要这货的, 为java语言做支持.</p>
<p>还是装两个版本, jdk7和jdk8, 然后用update-alternatives进行调整.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">$ wget http://download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.tar.gz -P ~/Desktop/apps</div><div class="line">--2017-08-31 17:58:54--  http://download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.tar.gz</div><div class="line">正在解析主机 download.oracle.com (download.oracle.com)... 184.28.218.123, 184.28.218.122</div><div class="line">正在连接 download.oracle.com (download.oracle.com)|184.28.218.123|:80... 已连接。</div><div class="line">已发出 HTTP 请求，正在等待回应... 302 Found</div><div class="line">位置：http://101.44.1.8/files/2130000006C99F22/download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.tar.gz [跟随至新的 URL]</div><div class="line">--2017-08-31 17:58:54--  http://101.44.1.8/files/2130000006C99F22/download.oracle.com/otn-pub/java/jdk/8u144-b01/090f390dda5b47b9b721c7dfaa008135/jdk-8u144-linux-x64.tar.gz</div><div class="line">正在连接 101.44.1.8:80... 已连接。</div><div class="line">已发出 HTTP 请求，正在等待回应... 200 OK</div><div class="line">长度：185515842 (177M) [application/octet-stream]</div><div class="line">正在保存至: “/home/merlin/Desktop/apps/jdk-8u144-linux-x64.tar.gz”</div><div class="line"></div><div class="line">jdk-8u144-linux-x64.tar.gz       100%[=======================================================&gt;] 176.92M  3.60MB/s  用时 44s     </div><div class="line"></div><div class="line">2017-08-31 17:59:44 (3.98 MB/s) - 已保存 “/home/merlin/Desktop/apps/jdk-8u144-linux-x64.tar.gz” [185515842/185515842])</div><div class="line"></div><div class="line">$ sudo mkdir /usr/local/lib/jvm</div><div class="line">$ sudo tar -xzvf ~/Desktop/apps/jdk-8u144-linux-x64.tar.gz -C /usr/local/lib/jvm</div><div class="line"></div><div class="line">$ $ ls /usr/local/lib/jvm</div><div class="line">jdk1.8.0_144</div><div class="line"></div><div class="line"># 设置环境变量, 在.merlin_bash结尾加上</div></pre></td></tr></table></figure>
<h2 id="jdk-path"><a href="#jdk-path" class="headerlink" title="jdk path"></a>jdk path</h2><p>export JAVA_HOME=/usr/local/lib/jvm/jdk1.8.0_144<br>export JRE_HOME=${JAVA_HOME}/jre<br>export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib<br>export PATH=${JAVA_HOME}/bin:$PATH<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">然后看一下是否安装成功:</div></pre></td></tr></table></figure></p>
<p>$ source .bashrc<br>$ which java<br>/usr/local/lib/jvm/jdk1.8.0_144/bin/java</p>
<p>$ java -version<br>Picked up _JAVA_OPTIONS:   -Dawt.useSystemAAFontSettings=gasp<br>java version “1.8.0_144”<br>Java(TM) SE Runtime Environment (build 1.8.0_144-b01)<br>Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">上面的`Picked up _JAVA_OPTIONS:   -Dawt.useSystemAAFontSettings=gasp`好奇怪, 检查一下`_JAVA_OPTIONS`这个环境变量:</div></pre></td></tr></table></figure></p>
<p>$ sudo grep -nr “JAVA_OPTIONS” /etc<br>/etc/profile.d/java-awt-font-gasp.sh:2:if ! echo ${_JAVA_OPTIONS} |grep -q – ${opt}  ;then<br>/etc/profile.d/java-awt-font-gasp.sh:3:    export _JAVA_OPTIONS=”${_JAVA_OPTIONS}  ${opt}”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">查看了一下:</div></pre></td></tr></table></figure></p>
<p>$ cat /etc/profile.d/java-awt-font-gasp.sh<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">opt=&quot;-Dawt.useSystemAAFontSettings=gasp&quot;</div><div class="line">if ! echo $&#123;_JAVA_OPTIONS&#125; |grep -q -- $&#123;opt&#125;  ;then </div><div class="line">    export _JAVA_OPTIONS=&quot;$&#123;_JAVA_OPTIONS&#125;  $&#123;opt&#125;&quot;</div><div class="line">fi</div></pre></td></tr></table></figure></p>
<p>这个宏本来是指定运行参数(<code>java %JAVA_OPTIONS% -Xmx1024m -XX:MaxPermSize=128m</code>), 这里检查到”JAVA_OPTIONS”里没有设置<code>awt</code>界面组建的宏, 所以在这里指定了运行系统的字体和图形库. 但是一旦这里export, 后面运行<code>java</code>命令就会打印那条语句, 没办法, 在我的配置文件里面做一下处理吧.(JAVA_OPTIONS是运行时会自动指定的), 这里的文件就不要动了.<br>(意思是, 你的运行参数不要export了, 我运行的时候自己手动加载好了)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">## java related (关于是否配置环境变量, 看下面说明)</div><div class="line">JAVA_OPT=$&#123;_JAVA_OPTIONS&#125;</div><div class="line">unset _JAVA_OPTIONS</div><div class="line">alias java=&quot;java $&#123;JAVA_OPT&#125;&quot;</div></pre></td></tr></table></figure></p>
<p>然后注销重新登录, 运行<code>java -version</code> :<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$ alias java</div><div class="line">alias java=&apos;java   -Dawt.useSystemAAFontSettings=gasp&apos;</div><div class="line"></div><div class="line">$ java -version</div><div class="line">java version &quot;1.8.0_144&quot;</div><div class="line">Java(TM) SE Runtime Environment (build 1.8.0_144-b01)</div><div class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.144-b01, mixed mode)</div></pre></td></tr></table></figure></p>
<blockquote>
<p>这里注意了,如果后面你要用update-alternatives管理javac,java等工具, 就不要配置环境变量!</p>
</blockquote>
<p>装完oralble的jdk, 还要装一个open jdk, 以免有时候编译需要(可能是某些版本的android框架或者应用需要).</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line">$ search openjdk-8-jdk</div><div class="line">default-jdk - Standard Java or Java compatible Development Kit</div><div class="line">default-jdk-headless - Standard Java or Java compatible Development Kit (headless)</div><div class="line">openjdk-8-jdk - OpenJDK Development Kit (JDK)</div><div class="line">openjdk-8-jdk-headless - OpenJDK Development Kit (JDK) (headless)</div><div class="line"></div><div class="line">$ add openjdk-8-jdk</div><div class="line">正在读取软件包列表... 完成</div><div class="line">正在分析软件包的依赖关系树       </div><div class="line">正在读取状态信息... 完成       </div><div class="line">将会同时安装下列软件：</div><div class="line">  ca-certificates-java fonts-dejavu-extra java-common libatk-wrapper-java libatk-wrapper-java-jni libice-dev</div><div class="line">  libpthread-stubs0-dev libsm-dev libx11-dev libx11-doc libxau-dev libxcb1-dev libxdmcp-dev libxt-dev</div><div class="line">  openjdk-8-jdk-headless openjdk-8-jre openjdk-8-jre-headless x11proto-core-dev x11proto-input-dev x11proto-kb-dev</div><div class="line">  xorg-sgml-doctools xtrans-dev</div><div class="line">建议安装：</div><div class="line">  default-jre libice-doc libsm-doc libxcb-doc libxt-doc openjdk-8-demo openjdk-8-source visualvm icedtea-8-plugin</div><div class="line">  libnss-mdns fonts-ipafont-gothic fonts-ipafont-mincho fonts-wqy-zenhei fonts-indic</div><div class="line">下列【新】软件包将被安装：</div><div class="line">  ca-certificates-java fonts-dejavu-extra java-common libatk-wrapper-java libatk-wrapper-java-jni libice-dev</div><div class="line">  libpthread-stubs0-dev libsm-dev libx11-dev libx11-doc libxau-dev libxcb1-dev libxdmcp-dev libxt-dev openjdk-8-jdk</div><div class="line">  openjdk-8-jdk-headless openjdk-8-jre openjdk-8-jre-headless x11proto-core-dev x11proto-input-dev x11proto-kb-dev</div><div class="line">  xorg-sgml-doctools xtrans-dev</div><div class="line">升级了 0 个软件包，新安装了 23 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。</div><div class="line">需要下载 43.5 MB 的归档。</div><div class="line">解压缩后会消耗 170 MB 的额外空间。</div><div class="line">您希望继续执行吗？ [Y/n] Y</div><div class="line">...</div><div class="line">update-alternatives: 使用 /usr/lib/jvm/java-8-openjdk-amd64/bin/jconsole 来在自动模式中提供 /usr/bin/jconsole (jconsole)</div><div class="line">正在处理用于 libc-bin (2.24-9) 的触发器 ...</div><div class="line">正在处理用于 ca-certificates (20161130) 的触发器 ...</div><div class="line">Updating certificates in /etc/ssl/certs...</div><div class="line">0 added, 0 removed; done.</div><div class="line">Running hooks in /etc/ca-certificates/update.d...</div><div class="line"></div><div class="line">done.</div><div class="line">done.</div></pre></td></tr></table></figure>
<p>查看一下是不是update-alternatives已经托管:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo update-alternatives --config java</div><div class="line">链接组 java (提供 /usr/bin/java)中只有一个候选项：/usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java</div><div class="line">无需配置。</div></pre></td></tr></table></figure></p>
<p>看来还是要手动配置一下, 我自己安装的/usr/local/lib/jvm下的那个, 以及这一个(因为他的路径不对, 主要到是jre)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">$ sudo update-alternatives --remove java /usr/lib/jvm/java-8-openjdk-amd64/jre/bin/java</div><div class="line">$ sudo update-alternatives --install /usr/bin/java java /usr/local/lib/jvm/jdk1.8.0_144/bin/java 300</div><div class="line">$ sudo update-alternatives --install /usr/bin/javac javac /usr/local/lib/jvm/jdk1.8.0_144/bin/javac 300</div><div class="line">$ sudo update-alternatives --install /usr/bin/jar jar /usr/local/lib/jvm/jdk1.8.0_144/bin/jar 300</div><div class="line">$ sudo update-alternatives --install /usr/bin/javah javah /usr/local/lib/jvm/jdk1.8.0_144/bin/javah 300</div><div class="line">$ sudo update-alternatives --install /usr/bin/javap javap /usr/local/lib/jvm/jdk1.8.0_144/bin/javap 300</div><div class="line"></div><div class="line">$ sudo update-alternatives --install /usr/bin/java java /usr/lib/jvm/java-8-openjdk-amd64/bin/java 200</div><div class="line">$ sudo update-alternatives --install /usr/bin/javac javac /usr/lib/jvm/java-8-openjdk-amd64/bin/javac 200</div><div class="line">$ sudo update-alternatives --install /usr/bin/jar jar /usr/lib/jvm/java-8-openjdk-amd64/bin/jar 200</div><div class="line">$ sudo update-alternatives --install /usr/bin/javah javah /usr/lib/jvm/java-8-openjdk-amd64/bin/javah 200</div><div class="line">$ sudo update-alternatives --install /usr/bin/javap javap /usr/lib/jvm/java-8-openjdk-amd64/bin/javap 200</div><div class="line"></div><div class="line">$ sudo update-alternatives --display java</div><div class="line">java - 手动模式</div><div class="line">  最佳链接版本为 /usr/local/lib/jvm/jdk1.8.0_144/bin/java</div><div class="line"> 链接目前指向 /usr/local/lib/jvm/jdk1.8.0_144/bin/java</div><div class="line">  链接 java 指向 /usr/bin/java</div><div class="line">/usr/lib/jvm/java-8-openjdk-amd64/bin/java - 优先级 200</div><div class="line">/usr/local/lib/jvm/jdk1.8.0_144/bin/java - 优先级 300</div></pre></td></tr></table></figure></p>
<p>(这里如果你配置了JAVA_HOME等环境变量, 那么<code>upate-alternatives</code>就失效了, 不能起到切换的作用)</p>
<p>破Java环境, 终于闹腾好了.</p>
<h2 id="安装intelliJ"><a href="#安装intelliJ" class="headerlink" title="安装intelliJ"></a>安装intelliJ</h2><p>直接去 <a href="https://www.jetbrains.com/idea/download/#section=linux" target="_blank" rel="external">页面</a> 下载安装包.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$ wget https://download.jetbrains.8686c.com/idea/ideaIC-2017.2.3.tar.gz -P Desktop/apps</div><div class="line">$ mkdir Software</div><div class="line">$ tar -xzvf ~/Desktop/apps/ideaIC-2017.2.3.tar.gz -C Software/</div><div class="line">$ cd Software/idea-IC-172.3968.16/bin</div><div class="line">$ ./idea.sh</div></pre></td></tr></table></figure></p>
<p>之后安装时, 它会有一个步骤, 问你是否建立执行脚本, 点击确定即可, 然后可以看到:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">$ which idea</div><div class="line">/usr/local/bin/idea</div><div class="line"></div><div class="line">$ whereis idea</div><div class="line">idea: /usr/local/bin/idea</div><div class="line"></div><div class="line">$ ll /usr/local/bin/idea</div><div class="line">-rwxr-xr-x 1 root root 3111 8月  31 21:58 /usr/local/bin/idea</div><div class="line"></div><div class="line">$ file /usr/local/bin/idea</div><div class="line">/usr/local/bin/idea: Python script, ASCII text executable</div><div class="line">``</div><div class="line">这样就算安装完毕了.</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">## python</div><div class="line">一般linux是自带2.7版本的python的, 出于某些目的有时候也要安装python3(比如cppman就是需要python3安装), 幸好deepin也自带了.</div></pre></td></tr></table></figure></p>
<p>$ which python<br>/usr/bin/python</p>
<p>$ whereis python<br>python: /usr/bin/python /usr/bin/python2.7 /usr/bin/python3.5 /usr/bin/python3.5m /usr/lib/python2.7 /usr/lib/python3.5 /etc/python /etc/python2.7 /etc/python3.5 /usr/local/lib/python2.7 /usr/local/lib/python3.5 /usr/include/python2.7 /usr/include/python3.5m /usr/share/python /usr/share/man/man1/python.1.gz</p>
<p>$ python –version<br>Python 2.7.13<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">那么先把python2.7交给update-altertives管理再说.</div></pre></td></tr></table></figure></p>
<p>$ sudo update-alternatives –list python<br>update-alternatives: 错误: 无 python 的候选项</p>
<p>##我个人更喜欢python3<br>$ sudo update-alternatives –install /usr/bin/python python /usr/bin/python3.5 200<br>$ sudo update-alternatives –install /usr/bin/python python /usr/bin/python2.7 100  </p>
<p>$ sudo update-alternatives –list python<br>/usr/bin/python2.7<br>/usr/bin/python3.5</p>
<p>$ sudo update-alternatives –display python<br>python - 自动模式<br>  最佳链接版本为 /usr/bin/python3.5<br> 链接目前指向 /usr/bin/python3.5<br>  链接 python 指向 /usr/bin/python<br>/usr/bin/python2.7 - 优先级 100<br>/usr/bin/python3.5 - 优先级 200</p>
<p>$ python –version<br>Python 3.5.3</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">安装pip3工具:</div></pre></td></tr></table></figure>
<p>$ add python3-pip<br>[sudo] merlin 的密码：<br>正在读取软件包列表… 完成<br>正在分析软件包的依赖关系树<br>正在读取状态信息… 完成<br>将会同时安装下列软件：<br>  libexpat1-dev libpython3-dev libpython3.5-dev python-pip-whl python3-cffi-backend python3-crypto<br>  python3-cryptography python3-dev python3-idna python3-keyring python3-keyrings.alt python3-pyasn1<br>  python3-secretstorage python3-setuptools python3-wheel python3.5-dev<br>建议安装：<br>  python3-crypto-dbg python-crypto-doc python-cryptography-doc python3-cryptography-vectors libkf5wallet-bin<br>  gir1.2-gnomekeyring-1.0 python3-pykde4 doc-base python-secretstorage-doc python-setuptools-doc<br>下列【新】软件包将被安装：<br>  libexpat1-dev libpython3-dev libpython3.5-dev python-pip-whl python3-cffi-backend python3-crypto<br>  python3-cryptography python3-dev python3-idna python3-keyring python3-keyrings.alt python3-pip python3-pyasn1<br>  python3-secretstorage python3-setuptools python3-wheel python3.5-dev<br>升级了 0 个软件包，新安装了 17 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。<br>需要下载 40.8 MB 的归档。<br>解压缩后会消耗 63.2 MB 的额外空间。<br>您希望继续执行吗？ [Y/n] Y</p>
<p>$ $ which pip3<br>/usr/bin/pip3<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">这样就算差不多了, 以后根据自己的需求, 选择安装相应的库即可.</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">## 安装pycharm</div><div class="line"></div><div class="line">下载 pycharm</div></pre></td></tr></table></figure></p>
<p>$ wget <a href="https://download.jetbrains.8686c.com/python/pycharm-community-2017.2.2.tar.gz" target="_blank" rel="external">https://download.jetbrains.8686c.com/python/pycharm-community-2017.2.2.tar.gz</a> -P Desktop/apps<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">安装</div></pre></td></tr></table></figure></p>
<p>$ tar -xzvf Desktop/apps/pycharm-community-2017.2.2.tar.gz -C Software/<br>$ cd Software/pycharm-community-2017.2.2/bin<br>$ ./pycharm.sh<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">安装时, 请勾选建立`/usr/local/bin/pycharm`脚本这一项, 然后可以看到</div></pre></td></tr></table></figure></p>
<p>$ which pycharm<br>/usr/local/bin/pycharm</p>
<p>$ file /usr/local/bin/pycharm<br>/usr/local/bin/pycharm: Python script, ASCII text executable<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">## cppman</div><div class="line"></div><div class="line">我主业C++, 所以马上来配置一下c++的开发环境.</div><div class="line"></div><div class="line">`cppman` 可以实时从cplusplus.com以及cppreference.com上面下载文档的一个小工具. </div><div class="line">repo的地址是: https://github.com/aitjcize/cppman </div><div class="line"></div><div class="line">可以直接用apt工具安装</div></pre></td></tr></table></figure></p>
<p>$ search “cppman”<br>cppman - C++ 98/11 manual pages for Linux, with source from cplusplus.com</p>
<p>$ add cppman<br>正在读取软件包列表… 完成<br>正在分析软件包的依赖关系树<br>正在读取状态信息… 完成<br>将会同时安装下列软件：<br>  python3-bs4 python3-html5lib python3-webencodings<br>建议安装：<br>  python3-genshi<br>下列【新】软件包将被安装：<br>  cppman python3-bs4 python3-html5lib python3-webencodings<br>升级了 0 个软件包，新安装了 4 个软件包，要卸载 0 个软件包，有 0 个软件包未被升级。<br>需要下载 321 kB 的归档。<br>解压缩后会消耗 1,861 kB 的额外空间。<br>您希望继续执行吗？ [Y/n] Y</p>
<h1 id="安装完成之后-要先从网站上缓存页面才可以"><a href="#安装完成之后-要先从网站上缓存页面才可以" class="headerlink" title="安装完成之后, 要先从网站上缓存页面才可以."></a>安装完成之后, 要先从网站上缓存页面才可以.</h1><h2 id="切换源"><a href="#切换源" class="headerlink" title="切换源"></a>切换源</h2><p>$ cppman -s cppreference.com<br>Source set to `cppreference.com’.</p>
<h2 id="缓存"><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2><p>$ cppman -c<br>By default, cppman fetches pages on-the-fly if corresponding page is not found in the cache. The “cache-all” option is only useful if you want to view man pages offline. Caching all contents will take several minutes, do you want to continue [y/N]?<br>y<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">注意它需要装python3, 才行; 但是python是常用的, 所以版本管理还是交给update-alternatives吧.</div><div class="line">(安装完python3之后再来安装cppman)</div><div class="line"></div><div class="line">(再缓存`cppman -c`的时候, 你最好使用一下代理, 否则很容易缓存失败)</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">## cmake</div><div class="line">像boost, thrift虽然都不适用cmake编译, 但是现在很多流行的库, 比如gtest等, 都是用cmake, 而且相对于make的好, 不需要我多说.</div><div class="line"></div><div class="line">下面就安装一下cmake.</div><div class="line"></div><div class="line">`sudo apt-get install` 安装的版本往往比较老, 所以一般需要自己去下载, 然后编译安装.</div><div class="line"></div><div class="line"></div><div class="line">下载:  https://cmake.org/download/</div><div class="line">或者(https://github.com/Kitware/CMake)</div></pre></td></tr></table></figure></p>
<h1 id="直接去官网拿压缩包源码"><a href="#直接去官网拿压缩包源码" class="headerlink" title="直接去官网拿压缩包源码"></a>直接去官网拿压缩包源码</h1><p>$ wget <a href="https://cmake.org/files/v3.9/cmake-3.9.1.tar.gz" target="_blank" rel="external">https://cmake.org/files/v3.9/cmake-3.9.1.tar.gz</a> -P Desktop/apps/<br>$ cd Desktop/apps<br>$ tar -xzvf cmake-3.9.1.tar.gz<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">编译安装</div></pre></td></tr></table></figure></p>
<p>$ ./configure</p>
<h2 id="…"><a href="#…" class="headerlink" title="…."></a>….</h2><p>CMake has bootstrapped.  Now run make.</p>
<h1 id="开始编译"><a href="#开始编译" class="headerlink" title="开始编译"></a>开始编译</h1><p>$ make -j4</p>
<h1 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h1><p>$ sudo make install<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">可以从安装日志中看到, 主要是这三个工具</div></pre></td></tr></table></figure></p>
<p>– Installing: /usr/local/bin/cmake<br>– Installing: /usr/local/bin/ctest<br>– Installing: /usr/local/bin/cpack<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">最后删除, 安装包.</div><div class="line">(你不要去下载它的gui客户端呀, 好神经的说)</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line">## boost</div><div class="line"></div><div class="line">玩cpp的, 不装boost?</div><div class="line">你可以用apt工具去装, 比如:</div></pre></td></tr></table></figure></p>
<h1 id="一般安装libboost-dev就行"><a href="#一般安装libboost-dev就行" class="headerlink" title="一般安装libboost-dev就行"></a>一般安装libboost-dev就行</h1><p>sudo apt-get install libboost-all-dev<br>sudo apt-get install libboost-dev</p>
<h1 id="或者sudo-apt-cache-search-boost搜自己想要的库"><a href="#或者sudo-apt-cache-search-boost搜自己想要的库" class="headerlink" title="或者sudo apt-cache search boost搜自己想要的库"></a>或者sudo apt-cache search boost搜自己想要的库</h1><p>sudo apt-get install mpi-default-dev　　#安装mpi库<br>sudo apt-get install libicu-dev　　　　　#支持正则表达式的UNICODE字符集<br>sudo apt-get install python-dev　　　　　#需要python的话<br>sudo apt-get install libbz2-dev     #失败的话 sudo apt-get update试试<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">然后日常开发中, 常常用到这个库, 要确定的版本, 最好自己去官网下载安装(linux和vs版都要装).</div><div class="line"></div><div class="line">关于安装, 你可以参考一下, 我这篇文章[boost](http://www.merlinblog.site/2017/06/21/boost.html), 下面快速说:</div><div class="line">下载</div></pre></td></tr></table></figure></p>
<h2 id="我直接从我的远端服务器拷贝了-boost-1-63-0-7z"><a href="#我直接从我的远端服务器拷贝了-boost-1-63-0-7z" class="headerlink" title="我直接从我的远端服务器拷贝了 boost_1_63_0.7z"></a>我直接从我的远端服务器拷贝了 boost_1_63_0.7z</h2><p>$ scp -r merlin@xxxx:/home/merlin/packages/boost_1_63_0.7z ./apps/<br>$ 7z x boost_1_63_0.7z -o.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">编译安装:</div></pre></td></tr></table></figure></p>
<p>$ ./bootstrap.sh<br>$ ./b2 –show-libraries<br>The following libraries require building:</p>
<pre><code>- atomic
- chrono
- container
- context
- coroutine
- coroutine2
- date_time
- exception
- fiber
- filesystem
- graph
- graph_parallel
- iostreams
- locale
- log
- math
- metaparse
- mpi
- program_options
- python
- random
- regex
- serialization
- signals
- system
- test
- thread
- timer
- type_erasure
- wave
</code></pre><h1 id="也就是说-下面编译全是为了上面那些库-下面还是全编译吧"><a href="#也就是说-下面编译全是为了上面那些库-下面还是全编译吧" class="headerlink" title="也就是说, 下面编译全是为了上面那些库(下面还是全编译吧)"></a>也就是说, 下面编译全是为了上面那些库(下面还是全编译吧)</h1><h1 id="如果-b2-–with-atomic-–buildtype-complete-install表示只编译atomic库"><a href="#如果-b2-–with-atomic-–buildtype-complete-install表示只编译atomic库" class="headerlink" title="如果./b2 –with-atomic –buildtype=complete install表示只编译atomic库"></a>如果./b2 –with-atomic –buildtype=complete install表示只编译atomic库</h1><h1 id="注意一下拷贝权限问题"><a href="#注意一下拷贝权限问题" class="headerlink" title="注意一下拷贝权限问题"></a>注意一下拷贝权限问题</h1><p>$ sudo ./b2 –buildtype=complete install<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">之后查看一下编译日志:</div></pre></td></tr></table></figure></p>
<p>Component configuration:</p>
<pre><code>- atomic                   : building
- chrono                   : building
- container                : building
- context                  : building
- coroutine                : building
- coroutine2               : building
- date_time                : building
- exception                : building
- fiber                    : building
- filesystem               : building
- graph                    : building
- graph_parallel           : building
- iostreams                : building
- locale                   : building
- log                      : building
- math                     : building
- metaparse                : building
- mpi                      : building
- program_options          : building
- python                   : building
- random                   : building
- regex                    : building
- serialization            : building
- signals                  : building
- system                   : building
- test                     : building
- thread                   : building
- timer                    : building
- type_erasure             : building
- wave                     : building
</code></pre><p><code>``
之后跟着一大堆common.copy把lib和头文件分别拷贝到了,</code>/usr/local/include<code>和</code>/usr/local/lib`下面.</p>
<p>只要不出现<code>failure</code>基本可以认定编译, 安装成功了.</p>
<h2 id="log4cpp"><a href="#log4cpp" class="headerlink" title="log4cpp"></a>log4cpp</h2><h2 id="rapidxml"><a href="#rapidxml" class="headerlink" title="rapidxml"></a>rapidxml</h2><h2 id="rapidjson"><a href="#rapidjson" class="headerlink" title="rapidjson"></a>rapidjson</h2><h2 id="protobuffer"><a href="#protobuffer" class="headerlink" title="protobuffer"></a>protobuffer</h2><h2 id="thrift"><a href="#thrift" class="headerlink" title="thrift"></a>thrift</h2><h2 id="其他软件"><a href="#其他软件" class="headerlink" title="其他软件"></a>其他软件</h2><p>htop</p>
<hr>
<h1 id="尾巴"><a href="#尾巴" class="headerlink" title="尾巴"></a>尾巴</h1><p>当初把 Mac pro 15 卖掉的原因就是, 我已经非常熟悉Ubuntu了, 没必要在改变习惯, 使用homebrew等其他软件, 并且机器的配置文件位置我也习惯了. 所以即便是换系统, 也会和Ubuntu搭边儿, 正好deepin, 感觉不错哦.</p>
<hr>
<p>who is sponsoring the site? - i shall say merlin (<code>wizardmerlin945@gmail.com</code>)<br>欢迎发邮件给我(生活问题，请高抬贵手)</p>
	  
	</div>

	<div>
  	<center>
	<div class="pagination">

    
    
    <a href="/2017/08/31/my-emacs.html" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2017/08/30/linux后台开发经验分享.html" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>

    </center>
	</div>
	
	<!-- comment -->
	

	</div> <!-- col-md-9/col-md-12 -->
		
	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2017-08-31 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/codings/">codings<span>62</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
	
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#tags"><i class="fa fa-tags"></i></a>		  
    <ul id="tags" class="tag_box list-unstyled collapse in">	  
	    
  <li><a href="/tags/linux/">linux<span>11</span></a></li>
    </ul>
	</div>
		

	<!-- toc -->
	<div class="meta-widget">
	
	   <a data-toggle="collapse" data-target="#toc"><i class="fa fa-bars"></i></a>
	   <div id="toc" class="toc collapse in">
		   <span class="toc-title">Contents</span>
			<ol class="toc-article"><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#引子"><span class="toc-article-text">引子</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#正文"><span class="toc-article-text">正文</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#安装deepin"><span class="toc-article-text">安装deepin</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#emacs"><span class="toc-article-text">emacs</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#常用命令别名"><span class="toc-article-text">常用命令别名</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#wget"><span class="toc-article-text">wget</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#git"><span class="toc-article-text">git</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#ssh"><span class="toc-article-text">ssh</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#产生ssh-key"><span class="toc-article-text">产生ssh_key</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#locate"><span class="toc-article-text">locate</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#tree"><span class="toc-article-text">tree</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#gcc"><span class="toc-article-text">gcc</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#g"><span class="toc-article-text">g++</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#build-essential"><span class="toc-article-text">build-essential</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#binutils"><span class="toc-article-text">binutils</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#java"><span class="toc-article-text">java</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#jdk-path"><span class="toc-article-text">jdk path</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#安装intelliJ"><span class="toc-article-text">安装intelliJ</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#安装完成之后-要先从网站上缓存页面才可以"><span class="toc-article-text">安装完成之后, 要先从网站上缓存页面才可以.</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#切换源"><span class="toc-article-text">切换源</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#缓存"><span class="toc-article-text">缓存</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#直接去官网拿压缩包源码"><span class="toc-article-text">直接去官网拿压缩包源码</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#…"><span class="toc-article-text">….</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#开始编译"><span class="toc-article-text">开始编译</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#开始安装"><span class="toc-article-text">开始安装</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#一般安装libboost-dev就行"><span class="toc-article-text">一般安装libboost-dev就行</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#或者sudo-apt-cache-search-boost搜自己想要的库"><span class="toc-article-text">或者sudo apt-cache search boost搜自己想要的库</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#我直接从我的远端服务器拷贝了-boost-1-63-0-7z"><span class="toc-article-text">我直接从我的远端服务器拷贝了 boost_1_63_0.7z</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#也就是说-下面编译全是为了上面那些库-下面还是全编译吧"><span class="toc-article-text">也就是说, 下面编译全是为了上面那些库(下面还是全编译吧)</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#如果-b2-–with-atomic-–buildtype-complete-install表示只编译atomic库"><span class="toc-article-text">如果./b2 –with-atomic –buildtype=complete install表示只编译atomic库</span></a></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#注意一下拷贝权限问题"><span class="toc-article-text">注意一下拷贝权限问题</span></a><ol class="toc-article-child"><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#log4cpp"><span class="toc-article-text">log4cpp</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#rapidxml"><span class="toc-article-text">rapidxml</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#rapidjson"><span class="toc-article-text">rapidjson</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#protobuffer"><span class="toc-article-text">protobuffer</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#thrift"><span class="toc-article-text">thrift</span></a></li><li class="toc-article-item toc-article-level-2"><a class="toc-article-link" href="#其他软件"><span class="toc-article-text">其他软件</span></a></li></ol></li><li class="toc-article-item toc-article-level-1"><a class="toc-article-link" href="#尾巴"><span class="toc-article-text">尾巴</span></a></li></ol>
		</div>
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

	</div>
		

</div><!-- row -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2017 MerlinYu
  
     
     <br> Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind.386</a>.    
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>
